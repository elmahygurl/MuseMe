<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>MuseMe - Sign In</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Free HTML Templates" name="keywords">
    <meta content="Free HTML Templates" name="description">


    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
</head>

<body>
    <!-- Topbar Start -->
    <div class="container-fluid bg-light pt-3 d-none d-lg-block">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 text-center text-lg-left mb-2 mb-lg-0">
                    <div class="d-inline-flex align-items-center">
                        <p><i class="fa fa-envelope mr-2"></i>museme@outlook.com</p>

                    </div>
                </div>
                <div class="col-lg-6 text-center text-lg-right">
                    <div class="d-inline-flex align-items-center">
                        <a class="text-primary px-3" href="#footer-section">
                            Get our Newsletter
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Topbar End -->


    <!-- Navbar Start -->
    <div class="container-fluid position-relative nav-bar p-0">
        <div class="container-lg position-relative p-0 px-lg-3" style="z-index: 9;">
            <nav class="navbar navbar-expand-lg bg-light navbar-light shadow-lg py-3 py-lg-0 pl-3 pl-lg-5">
                <a href="" class="navbar-brand">
                    <h1 class="m-0 text-primary"><span class="text-dark">Muse</span>Me</h1>
                </a>
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-between px-3" id="navbarCollapse">
                    <div class="navbar-nav ml-auto py-0">
                        <a href="index.html" class="nav-item nav-link">Home</a>
                        <a href="ArtGallery.html" class="nav-item nav-link">Art Gallery</a>
                        <a href="museums.html" class="nav-item nav-link">Museums</a>
                        <a href="events.html" class="nav-item nav-link">Events</a>
                        <a href="careers.html" class="nav-item nav-link">Careers</a>
                        <a href="contact.html" class="nav-item nav-link">Contact us</a>
                    </div>
                </div>
            </nav>
        </div>
    </div>
    <!-- Navbar End -->

    <!-- Header Start -->
    <div class="container-fluid page-header">
        <div class="container">
            <div class="d-flex flex-column align-items-center justify-content-center" style="min-height: 400px">
                <h3 class="display-4 text-white text-uppercase">Sign in</h3>
            </div>
        </div>
    </div>
    <!-- Header End -->

    <!-- Sign In Form Start -->
    <div class="container-fluid bg-light py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-body">
                            <form id="signInForm">
                                <div class="form-group">
                                    <label for="username">Username</label>
                                    <input type="text" class="form-control" id="username" placeholder="Enter username">
                                </div>
                                <div class="form-group">
                                    <label for="password">Password</label>
                                    <input type="password" class="form-control" id="password" placeholder="Password">
                                </div>
                                <button type="submit" class="btn btn-primary btn-block">Sign In</button>
                            </form>
                            <p class="text-center mt-3">Don't have an account? <a href="signup.html">Sign Up</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Sign In Form End -->

    <!-- Footer Start -->
    <div class="container-fluid bg-dark text-white-50 py-5 px-sm-3 px-lg-5" style="margin-top: 90px;"
        id="footer-section">
        <div class="row pt-5">
            <div class="col-lg-3 col-md-6 mb-5">
                <a href="" class="navbar-brand">
                    <h1 class="text-primary"><span class="text-white">MUSE</span>ME</h1>
                </a>
                <h6 class="text-white text-uppercase mt-4 mb-3" style="letter-spacing: 5px;">Newsletter</h6>
                <div class="w-100">
                    <div class="input-group">
                        <input type="text" class="form-control border-light" style="padding: 20px;"
                            placeholder="Your Email">
                        <div class="input-group-append">
                            <button class="btn btn-primary px-3">Sign Up</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quote of the Day Section -->
            <div class="container-fluid bg-dark text-white py-5  col-md-6 mb-5">
                <div class="container text-center">
                    <h2 class="text-center mb-4" style="color: white;">Ancient quote of the Day</h2>
                    <div id="quote"></div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 mb-5">
                <h5 class="text-white text-uppercase mb-4" style="letter-spacing: 5px;">Contact Us</h5>
                <p><i class="fa fa-phone-alt mr-2"></i>+012 345 67890</p>
                <p><i class="fa fa-envelope mr-2"></i>museme@outlook.com</p>

            </div>
        </div>
    </div>
    <!-- Footer End -->


    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="fa fa-angle-double-up"></i></a>


    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/tempusdominus/js/moment.min.js"></script>
    <script src="lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>

    <!-- Contact Javascript File -->
    <script src="mail/jqBootstrapValidation.min.js"></script>
    <script src="mail/contact.js"></script>

    <script src="js/main.js"></script>
    <script>
        // Array of Ancient Egyptian Proverbs Quotes
        var quotes = [
            "“When the heart is strong, the tongue speaks true”",
            "“A good word is more effective than a sweet which one gives with reluctance”",
            "“The nobleman honors the gods, but the peasant does the work”",
            "“To have peace there must be strife; both are part of the structure of the world and requirements”",
            "“Know thyself deathless and able to know all things, all arts, sciences, the way of every life. Become higher than the highest height and lower than the lowest depth. Amass in thyself all senses of animals, fire, water, dryness and moistness. Think of thyself in all places at the same time, earth, sea, sky, not yet born, in the womb, young, old, dead, and in the after death state”",
            "“By living a life based on wisdom and truth, one can discover the divinity of the soul, its union to the universe, the supreme peace and contentment which comes from satisfying the inner drive for self discovery”",
            "“Do not assess a man who has nothing, and thus falsify your pen”",
            "“True knowledge comes from the upward path which leads to the eternal fire; error, defeat and death result from following the lower path of worldly attachment”",
        ];

        // Function to display a random quote
        function displayRandomQuote() {
            var randomIndex = Math.floor(Math.random() * quotes.length);
            document.getElementById('quote').innerHTML = "<p class='lead'>" + quotes[randomIndex] + "</p>";
        }

        // Call the function to display a random quote when the page loads
        window.onload = displayRandomQuote;
    </script>
    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.1/dist/js.cookie.min.js"></script>

    <!-- Script to handle form submission with AJAX -->
    <script>
        $(document).ready(function () {
            // Function to handle user sign up using AJAX
            // Function to handle user sign up
            function signInUser(userData) {
                // Define the API endpoint where the user data will be sent
                const apiUrl = 'http://localhost:5000/users/login';
                console.log(userData);
                // Set up the options for the fetch request
                const requestOptions = {
                    method: 'POST', // Specify the request method
                    headers: {
                        'Content-Type': 'application/json', // Indicate that the request body format is JSON
                    },
                    body: JSON.stringify(userData) // Convert the user data into JSON string
                };

                // Make a POST request with the user data
                fetch(apiUrl, requestOptions)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok');
                        }
                        return response.json(); // Parse JSON response body
                    })
                    .then(result => {
                        console.log('User signed in:', result); // Log success message and result
                        alert('Sign in successful!'); // Notify user of successful sign up

                        // Save the token in a cookie
                        //Cookies.set('token', result.token, { expires: 7 }); // 'expires' specifies the number of days until the cookie expires

                        // After successful sign in
                        localStorage.setItem('token', result.token);

                        //Cookies.set('token', result.token, { expires: 7, path: '/', domain: 'yourdomain.com' });

                        // In signIn.html
                        // Cookies.set('testCookie', 'seya7', { expires: 7, path: '/', domain: 'localhost' });
                        // console.log('Cookie set: testCookie');
                        // Redirect to ticketBooking.html
                        // Example of setting a cookie
                        // document.cookie = "testCookie=seya7; expires=Fri, 31 Dec 2024 23:59:59 GMT; path=/; domain=localhost";
                        // console.log('Cookie set: ',document.cookie );
                        window.location.href = "ticketBooking.html";
                    })
                    .catch(error => {
                        console.error('Error during sign in:', error);
                        alert('Sign in failed! Please try again.'); // Notify user of failed sign up
                    });
            }

            // Example of using signUpUser function
            $('#signInForm').submit(function (event) {
                event.preventDefault(); // Prevent the default form submission

                // Gather user data from form inputs
                const userData = {
                    username: $('#username').val(),
                    password: $('#password').val(),
                };

                // Call the signUpUser function with the user data
                signInUser(userData);
            });
        });
    </script>
</body>

</html>